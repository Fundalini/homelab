DAY 3 NOTES all ip /24

BGP = BORDER GATEWAY PROTOCOL
-mostly used in wan
-ad = 20 external / 200 internal
-used by isp and large corpo

recipe:

config t
router bgp # (AS no.)
bgp log-neighbor-changes
 neighbor <host ip ni ka-peer> remote-as # (AS no.)
   *no. of neighbors depends
 network <NetIP papunta sa ka-peer> mask <S.M. ni ka-peer>
   *no. of network depends
end

@r1

conf t
router bgp 1
bgp log-neighbor-changes
 neighbor 208.8.8.4 remote-as 45
 neighbor 207.7.7.2 remote-as 2
 neighbor 209.9.9.3 remote-as 3
 network 208.8.8.0 mask 255.255.255.0
 network 207.7.7.0 mask 255.255.255.0
 network 209.9.9.0 mask 255.255.255.0
 network 10.1.1.0 mask 255.255.255.252
end

@I1

conf t
router bgp 45
bgp log-neighbor-changes
 neighbor 45.4.5.5 remote-as 45
 neighbor 24.2.4.2 remote-as 2
 neighbor 208.8.8.1 remote-as 1
 network 45.4.5.0 mask 255.255.255.0
 network 24.2.4.0 mask 255.255.255.0
 network 208.8.8.0 mask 255.255.255.0

!PretendInternet
network 0.0.0.0
ip route 0.0.0.0 0.0.0.0 null 0
ip route 10.0.0.0 255.0.0.0 208.8.8.1
end

@I2

conf t
router bgp 2
bgp log-neighbor-changes
 neighbor 32.3.2.3 remote-as 3
 neighbor 25.2.5.5 remote-as 45
 neighbor 24.2.4.4 remote-as 45
 neighbor 207.7.7.1 remote-as 1
 network 32.3.2.0 mask 255.255.255.0
 network 25.2.5.0 mask 255.255.255.0
 network 24.2.4.0 mask 255.255.255.0
 network 207.7.7.0 mask 255.255.255.0
 network 22.22.22.22 mask 255.255.255.255

!PretendInternet
network 0.0.0.0
ip route 0.0.0.0 0.0.0.0 null 0
ip route 10.0.0.0 255.0.0.0 207.7.7.1
end

@I3

conf t
router bgp 3
bgp log-neighbor-changes
 neighbor 35.3.5.5 remote-as 45
 neighbor 32.3.2.2 remote-as 2
 neighbor 209.9.9.1 remote-as 1
 network 35.3.5.0 mask 255.255.255.0
 network 32.3.2.0 mask 255.255.255.0
 network 209.9.9.0 mask 255.255.255.0
 network 33.33.33.33 mask 255.255.255.255

!PretendInternet
network 0.0.0.0
ip route 0.0.0.0 0.0.0.0 null 0
ip route 10.0.0.0 255.0.0.0 209.9.9.1
end

@googleDNS

conf t
router bgp 45
bgp log-neighbor-changes
 neighbor 35.3.5.3 remote-as 3
 neighbor 25.2.5.2 remote-as 2
 neighbor 45.4.5.4 remote-as 45
 network 35.3.5.0 mask 255.255.255.0
 network 25.2.5.0 mask 255.255.255.0
 network 45.4.5.0 mask 255.255.255.0
 network 8.8.8.8 mask 255.255.255.255
end

------------BGP MESSAGES--------------
Notification
Open
Keep-Alive
Update


--------how to make R2 ping google dns
@R1
conf t
 router ospf 1
 default-information originate always
 end























